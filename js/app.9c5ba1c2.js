(function(e){function t(t){for(var i,o,s=t[0],c=t[1],u=t[2],l=0,f=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);h&&h(t);while(f.length)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(i=!1)}i&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},r={app:0},a=[];function o(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"5f79b813"}[e]+".js"}function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=i);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=o(e);var u=new Error;a=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",u.name="ChunkLoadError",u.type=i,u.request=a,n[1](u)}r[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/interactive-photo-frames/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var h=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0053":function(e,t,n){},"08c4":function(e,t,n){"use strict";var i=n("4cab"),r=n.n(i);r.a},"316a":function(e,t,n){},"3a7a":function(e,t,n){"use strict";var i=n("0053"),r=n.n(i);r.a},"4ca1":function(e,t,n){"use strict";var i=n("780c"),r=n.n(i);r.a},"4cab":function(e,t,n){},"5c0b":function(e,t,n){"use strict";var i=n("9c0c"),r=n.n(i);r.a},7075:function(e,t,n){},"780c":function(e,t,n){},"837d":function(e,t,n){},"9c0c":function(e,t,n){},"9f43":function(e,t,n){"use strict";var i=n("837d"),r=n.n(i);r.a},a4cb:function(e,t,n){},b298:function(e,t,n){"use strict";var i=n("7075"),r=n.n(i);r.a},c32b:function(e,t,n){"use strict";var i=n("316a"),r=n.n(i);r.a},c8ff:function(e,t,n){"use strict";var i=n("a4cb"),r=n.n(i);r.a},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i,r,a,o,s,c,u,l=n("2b0e"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"router-view"}},[n("router-view")],1)])},f=[],m=(n("caad"),n("d81d"),n("b0c0"),n("b64b"),n("2532"),n("9f12")),p=n("53fe"),d=n("8b83"),g=n("c65a"),y=n("c03e"),v=n("9ab4"),b=n("60a3"),k=(n("d3b7"),n("8c4f")),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("Playground"),n("FrameControl"),e.menuActive?n("MenuList",{attrs:{items:e.menuItems,pos:e.menuPos},on:{"click-item":e.handleMenuItem}}):e._e(),n("KeyNavigator"),n("MouseWrapper")],1)},x=[],O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"playground grid"},e._l(e.frames,(function(t){return n("div",{key:t.id},[n("FlexibleFrame",{class:{highlight:(e.isDragging||e.isResizing)&&e.mutatedFrame===t},attrs:{frame:t,focused:e.focusFrame===t,frameMutable:!e.isAlt},on:{"drag-frame":e.handleDragFrame,"drag-content":e.handleDragFrameContent,"resize-frame":e.handleResizeFrame}})],1)})),0)},j=[],F=(n("4de4"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"frame",class:{highlight:e.focused,draggable:e.frameMutable,movable:e.contentMutable},style:{transform:"translate("+e.framePos.x+"px, "+e.framePos.y+"px)",width:e.frame.outerSize.width+"px",height:e.frame.outerSize.height+"px",padding:e.frame.padding+"px"},on:{mouseover:function(t){return e.handleFocusFrame(e.frame)},mouseout:function(t){return e.handleFocusFrame(null)}}},[n("div",{staticClass:"content",on:{mousedown:function(t){return t.stopPropagation(),e.handleDragFrame(t)},mousewheel:e.handleScrollFrame}},[n("img",{ref:"img",style:{transform:"translate("+e.frame.offset.x+"px, "+e.frame.offset.y+"px)",width:e.frame.innerSize.width+"px",height:e.frame.innerSize.height+"px"},attrs:{title:e.frame.name,src:e.frame.url,alt:e.frame.name},on:{load:function(t){return e.handleImgLoad(e.frame)},dragstart:function(e){e.preventDefault()}}}),e._l(e.resizeNodes,(function(t){return n("div",{key:t.key,style:t.style,on:{mousedown:function(n){return n.stopPropagation(),function(n){return e.handleResizeFrame(n,t.key)}(n)}}})}))],2)])}),M=[],C=n("2fa7"),$=n("c64e"),R=n.n($),P=(n("99af"),function(){function e(t){Object(m["a"])(this,e),this.width=0,this.height=0,t&&Object.assign(this,t)}return Object(p["a"])(e,[{key:"toString",value:function(){return"Size: ".concat(this.width," * ").concat(this.height)}},{key:"clone",value:function(){return Object.assign(new e,this)}},{key:"scale",value:function(e){return this.width*=e,this.height*=e,this}},{key:"resize",value:function(e){return this.width=e.width,this.height=e.height,this}},{key:"expand",value:function(e){return this.width+=2*e,this.height+=2*e,this}},{key:"aspectRatio",get:function(){return 0===this.height?1/0:this.width/this.height}},{key:"isPortrait",get:function(){return this.width<=this.height}},{key:"isLandscape",get:function(){return this.width>=this.height}}]),e}()),T=function(){function e(t){Object(m["a"])(this,e),this.x=0,this.y=0,t&&Object.assign(this,t)}return Object(p["a"])(e,[{key:"toString",value:function(){return"(".concat(this.x,", ").concat(this.y,")")}},{key:"clone",value:function(){return Object.assign(new e,this)}},{key:"move",value:function(e,t){return this.x+=e,this.y+=t,this}},{key:"moveTo",value:function(e){return this.x=e.x,this.y=e.y,this}}]),e}();n("a4d3"),n("4160"),n("e439"),n("dbb4"),n("159b");function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach((function(t){Object(C["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(function(e){e[e["LeftTop"]=0]="LeftTop",e[e["RightTop"]=1]="RightTop",e[e["RightBottom"]=2]="RightBottom",e[e["LeftBottom"]=3]="LeftBottom",e[e["Center"]=4]="Center",e[e["LeftCenter"]=5]="LeftCenter",e[e["TopCenter"]=6]="TopCenter",e[e["RightCenter"]=7]="RightCenter",e[e["BottomCenter"]=8]="BottomCenter"})(i||(i={})),function(e){e[e["Enter"]=13]="Enter",e[e["Shift"]=16]="Shift",e[e["Ctrl"]=17]="Ctrl",e[e["Alt"]=18]="Alt",e[e["Esc"]=27]="Esc"}(r||(r={})),function(e){e["Edit"]="edit",e["Delete"]="delete",e["Top"]="top",e["Forward"]="forward",e["Backward"]="backward",e["Bottom"]="bottom"}(a||(a={})),function(e){e[e["None"]=0]="None",e[e["DragFrameControlPanel"]=1]="DragFrameControlPanel",e[e["DragFrame"]=2]="DragFrame",e[e["ResizeFrame"]=3]="ResizeFrame",e[e["DragFrameContent"]=4]="DragFrameContent"}(o||(o={})),function(e){e["Left"]="left",e["LeftTop"]="left-top",e["Top"]="top",e["RightTop"]="right-top",e["Right"]="right",e["RightBottom"]="right-bottom",e["Bottom"]="bottom",e["LeftBottom"]="left-bottom"}(s||(s={}));var L=6,B=(c={},Object(C["a"])(c,s.Left,s.Right),Object(C["a"])(c,s.LeftTop,s.RightBottom),Object(C["a"])(c,s.Top,s.Bottom),Object(C["a"])(c,s.RightTop,s.LeftBottom),Object(C["a"])(c,s.Right,s.Left),Object(C["a"])(c,s.RightBottom,s.LeftTop),Object(C["a"])(c,s.Bottom,s.Top),Object(C["a"])(c,s.LeftBottom,s.RightTop),c),S=(u={},Object(C["a"])(u,s.Left,{x:1,y:0}),Object(C["a"])(u,s.LeftTop,{x:1,y:1}),Object(C["a"])(u,s.Top,{x:0,y:1}),Object(C["a"])(u,s.RightTop,{x:-1,y:1}),Object(C["a"])(u,s.Right,{x:-1,y:0}),Object(C["a"])(u,s.RightBottom,{x:-1,y:-1}),Object(C["a"])(u,s.Bottom,{x:0,y:-1}),Object(C["a"])(u,s.LeftBottom,{x:1,y:-1}),u),W=[{key:a.Delete,name:"delete"},{key:a.Top,name:"to top",icon:"top-icon.svg"},{key:a.Forward,name:"bring forward",icon:"up-icon.svg"},{key:a.Backward,name:"bring backward",icon:"down-icon.svg"},{key:a.Bottom,name:"to bottom",icon:"bottom-icon.svg"}].map((function(e){return z({},e,{disable:!1})})),_=function(){function e(t){Object(m["a"])(this,e),this.id=R()(),this.name="new frame",this.url="",this.position=new T,this.size=new P,this.naturalSize=new P,this.display=!0,this.mirror=!1,this.padding=L,this.scale=1,this.offset=new T,t&&this.update(t)}return Object(p["a"])(e,[{key:"update",value:function(e){Object.assign(this,e)}},{key:"move",value:function(e){this.position.x=e.x,this.position.y=e.y}},{key:"outerSize",get:function(){return this.size.clone().expand(this.padding)},set:function(e){this.size=e.clone().expand(-this.padding)}},{key:"innerSize",get:function(){return this.naturalSize.clone().scale(this.scale)},set:function(e){this.scale=e.width/this.naturalSize.width}},{key:"aspectRatio",get:function(){return this.naturalSize.aspectRatio},set:function(e){this.naturalSize.height=this.naturalSize.width/e}},{key:"outerPosition",get:function(){return this.position.clone().move(-this.padding,-this.padding)},set:function(e){this.position.moveTo(e.clone().move(this.padding,this.padding))}},{key:"cornerPositions",get:function(){var e,t=this.diagonals[1];return e={},Object(C["a"])(e,s.Left,this.position.clone()),Object(C["a"])(e,s.LeftTop,this.position.clone()),Object(C["a"])(e,s.Top,this.position.clone()),Object(C["a"])(e,s.RightTop,new T({x:t.x,y:this.position.y})),Object(C["a"])(e,s.Right,t),Object(C["a"])(e,s.RightBottom,t),Object(C["a"])(e,s.Bottom,t),Object(C["a"])(e,s.LeftBottom,new T({x:this.position.x,y:t.y})),e}},{key:"diagonals",get:function(){var e=this.outerPosition,t=this.outerSize;return[e.clone(),e.clone().move(t.width,t.height)]},set:function(e){this.outerPosition=e[0],this.outerSize=new P({width:e[1].x-e[0].x,height:e[1].y-e[0].y})}}]),e}();function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return[{key:s.Left,style:{position:"absolute",width:"".concat(t,"px"),height:"".concat(e.height,"px"),left:"".concat(-t,"px"),top:"".concat(0,"px"),cursor:n?"ew-resize":"default"}},{key:s.LeftTop,style:{position:"absolute",width:"".concat(t,"px"),height:"".concat(t,"px"),left:"".concat(-t,"px"),top:"".concat(-t,"px"),cursor:n?"nwse-resize":"default"}},{key:s.Top,style:{position:"absolute",width:"".concat(e.width,"px"),height:"".concat(t,"px"),left:"".concat(0,"px"),top:"".concat(-t,"px"),cursor:n?"ns-resize":"default"}},{key:s.RightTop,style:{position:"absolute",width:"".concat(t,"px"),height:"".concat(t,"px"),right:"".concat(-t,"px"),top:"".concat(-t,"px"),cursor:n?"nesw-resize":"default"}},{key:s.Right,style:{position:"absolute",width:"".concat(t,"px"),height:"".concat(e.height,"px"),right:"".concat(-t,"px"),top:"".concat(0,"px"),cursor:n?"ew-resize":"default"}},{key:s.RightBottom,style:{position:"absolute",width:"".concat(t,"px"),height:"".concat(t,"px"),right:"".concat(-t,"px"),bottom:"".concat(-t,"px"),cursor:n?"nwse-resize":"default"}},{key:s.Bottom,style:{position:"absolute",width:"".concat(e.width,"px"),height:"".concat(t,"px"),left:"".concat(0,"px"),bottom:"".concat(-t,"px"),cursor:n?"ns-resize":"default"}},{key:s.LeftBottom,style:{position:"absolute",width:"".concat(t,"px"),height:"".concat(t,"px"),left:"".concat(-t,"px"),bottom:"".concat(-t,"px"),cursor:n?"nesw-resize":"default"}}]}var A=function(e){function t(){return Object(m["a"])(this,t),Object(d["a"])(this,Object(g["a"])(t).apply(this,arguments))}return Object(y["a"])(t,e),Object(p["a"])(t,[{key:"handleImgLoad",value:function(e){var t=new P({width:this.imgRef.naturalWidth,height:this.imgRef.naturalHeight});this.$store.commit("updateFrame",{frame:e,input:{size:t.clone(),naturalSize:t}})}},{key:"handleFocusFrame",value:function(e){this.$store.commit("switchFocusFrame",{frame:e})}},{key:"handleDragFrame",value:function(e){this.frameMutable&&this.$emit("drag-frame",{frame:this.frame,e:e}),this.contentMutable&&this.$emit("drag-content",{frame:this.frame,e:e})}},{key:"handleResizeFrame",value:function(e,t){this.frameMutable&&this.$emit("resize-frame",{frame:this.frame,corner:t,e:e})}},{key:"handleScrollFrame",value:function(e){if(this.contentMutable){var t=e.deltaY<0?.1:-.1,n=Math.max(this.frame.scale+t,.1);this.$store.commit("updateFrame",{frame:this.frame,input:{scale:n}})}}},{key:"framePos",get:function(){return this.frame.outerPosition}},{key:"resizeNodes",get:function(){return E(this.frame.size,this.frame.padding,this.frameMutable)}},{key:"contentMutable",get:function(){return!this.frameMutable}}]),t}(b["d"]);v["a"]([Object(b["b"])(_)],A.prototype,"frame",void 0),v["a"]([Object(b["b"])({default:!1})],A.prototype,"focused",void 0),v["a"]([Object(b["b"])()],A.prototype,"frameMutable",void 0),v["a"]([Object(b["c"])("img")],A.prototype,"imgRef",void 0),A=v["a"]([b["a"]],A);var I=A,N=I,H=(n("3a7a"),n("2877")),Y=Object(H["a"])(N,F,M,!1,null,"40797ff2",null),X=Y.exports,K=function(e){function t(){var e;return Object(m["a"])(this,t),e=Object(d["a"])(this,Object(g["a"])(t).apply(this,arguments)),e.mutatedFrame=null,e}return Object(y["a"])(t,e),Object(p["a"])(t,[{key:"handleDragFrame",value:function(e){var t=e.frame,n=e.e;this.mutatedFrame=t,this.$store.commit("setMouseWrapper",{pos:new T({x:n.clientX,y:n.clientY}),basis:new T({x:n.clientX-t.position.x,y:n.clientY-t.position.y}),event:o.DragFrame,trackCorner:s.LeftTop})}},{key:"handleDragFrameContent",value:function(e){var t=e.frame,n=e.e;this.mutatedFrame=t,this.$store.commit("setMouseWrapper",{pos:new T({x:n.clientX,y:n.clientY}),event:o.DragFrameContent,basis:new T({x:n.clientX-t.offset.x,y:n.clientY-t.offset.y})})}},{key:"handleMouseMove",value:function(e){var t=this.mutatedFrame||new _;if(this.isDragging&&this.$store.commit("moveFrame",{frame:t,pos:e}),this.isDraggingContent&&this.$store.commit("updateFrame",{frame:t,input:{offset:e.clone()}}),this.isResizing){t.diagonals;var n=this.mouseDiagonals;switch(this.mouseTrackCorner){case s.Left:case s.Right:n[0].y=t.diagonals[0].y,n[1].y=t.diagonals[1].y;break;case s.Top:case s.Bottom:n[0].x=t.diagonals[0].x,n[1].x=t.diagonals[1].x;break}this.$store.commit("resizeFrame",{frame:t,val:n})}}},{key:"handleDragActive",value:function(e){e||(this.mutatedFrame=null,this.$store.commit("resetMouseWrapper"))}},{key:"handleResizeFrame",value:function(e){var t=e.frame,n=e.corner,i=e.e;this.mutatedFrame=t,this.$store.commit("setMouseWrapper",{pos:new T({x:i.clientX,y:i.clientY}),event:o.ResizeFrame,basis:t.cornerPositions[B[n]],trackCorner:B[n]})}},{key:"handleResizeActive",value:function(e){e||(this.mutatedFrame=null,this.$store.commit("resetMouseWrapper"))}},{key:"isAlt",get:function(){return this.$store.state.keyboardWrapper.Alt}},{key:"mousePos",get:function(){return this.$store.state.mouseWrapper.position}},{key:"mouseDiagonals",get:function(){return this.$store.state.mouseWrapper.diagonals}},{key:"mouseTrackCorner",get:function(){return this.$store.state.mouseWrapper.trackCorner}},{key:"dragActive",get:function(){return this.$store.state.mouseWrapper.event===o.DragFrame}},{key:"isDragging",get:function(){return this.dragActive&&null!==this.mutatedFrame}},{key:"dragContentActive",get:function(){return this.$store.state.mouseWrapper.event===o.DragFrameContent}},{key:"isDraggingContent",get:function(){return this.dragContentActive&&null!==this.mutatedFrame}},{key:"resizeActive",get:function(){return this.$store.state.mouseWrapper.event===o.ResizeFrame}},{key:"isResizing",get:function(){return this.resizeActive&&null!==this.mutatedFrame}},{key:"frames",get:function(){return this.$store.state.frames.filter((function(e){return e.display}))}},{key:"focusFrame",get:function(){return this.$store.state.focusFrame}}]),t}(b["d"]);v["a"]([Object(b["e"])("mousePos")],K.prototype,"handleMouseMove",null),v["a"]([Object(b["e"])("dragActive")],K.prototype,"handleDragActive",null),v["a"]([Object(b["e"])("resizeActive")],K.prototype,"handleResizeActive",null),K=v["a"]([Object(b["a"])({components:{FlexibleFrame:X}})],K);var U=K,J=U,q=(n("4ca1"),Object(H["a"])(J,O,j,!1,null,"53d5b7e2",null)),G=q.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal",class:{hidden:e.hidden&&e.fold,fold:e.fold},style:{width:e.width+"px",transform:"translate("+e.pos.x+"px, "+e.pos.y+"px)"}},[n("div",{staticClass:"appbar",class:{hidden:e.hidden&&e.fold,dragging:e.isDraggingModal},on:{mouseover:e.handleFocusModal,mouseleave:e.handleBlurModal}},[n("div",{staticClass:"modal-draggable",on:{mousedown:function(t){return t.stopPropagation(),e.handleDragModal(t)}}}),n("div",{staticClass:"icon-btn",on:{click:function(t){t.stopPropagation(),e.fold=!e.fold}}},[n("img",{attrs:{src:"fold-icon.svg",alt:"fold"}})])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.fold,expression:"!fold"}],ref:"frameListRef",staticClass:"frame-list",style:{height:e.listHeight+"px"}},e._l(e.frames,(function(t){return n("div",{key:t.id,staticClass:"frame-preview",class:{highlight:e.focusFrame===t},style:{margin:e.itemMargin+"px 0",height:e.itemHeight+"px",minHeight:e.itemHeight+"px"},on:{mouseover:function(n){return e.handleFocusFrame(t)},mouseout:function(t){return e.handleFocusFrame(null)},click:function(n){return e.handleOpenMenu(n,t)}}},[n("div",{attrs:{title:"hidden/show"},on:{click:function(n){return n.stopPropagation(),e.toggleDisplayFrame(t)}}},[n("img",{class:{show:t.display},attrs:{src:"eye-icon.svg",alt:"display"}})]),n("div",{attrs:{title:t.name}},[e._v(e._s(t.name))])])})),0),n("input",{style:{display:"none"},attrs:{id:"upload-img-input",type:"file",multiple:"",accept:"image/*"},on:{change:e.handleUpload}}),n("label",{directives:[{name:"show",rawName:"v-show",value:!e.fold,expression:"!fold"}],staticClass:"btn",attrs:{for:"upload-img-input"}},[e._v(" Add Image ")])])},V=[],Z=(n("26e9"),n("fb6a"),function(e){function t(){var e;return Object(m["a"])(this,t),e=Object(d["a"])(this,Object(g["a"])(t).apply(this,arguments)),e.width=150,e.itemShowLimit=10,e.itemHeight=30,e.itemMargin=4,e.pos=new T({x:8,y:8}),e.fold=!1,e.hidden=!1,e.blurTimer=null,e}return Object(y["a"])(t,e),Object(p["a"])(t,[{key:"handleDragModal",value:function(e){this.$store.commit("setMouseWrapper",{pos:new T({x:e.clientX,y:e.clientY}),basis:new T({x:e.clientX-this.pos.x,y:e.clientY-this.pos.y}),event:o.DragFrameControlPanel,trackCorner:s.LeftTop})}},{key:"handleDraggingModal",value:function(e){this.isDraggingModal&&(this.pos=e)}},{key:"handleDragPreview",value:function(e){if(this.frameListRef&&this.frameListRef.childNodes.length>0){var t=this.frameListRef.childNodes[0],n=e.currentTarget;n.offsetTop,t.offsetTop}}},{key:"handleFocusModal",value:function(){this.hidden=!1,clearTimeout(this.blurTimer)}},{key:"handleBlurModal",value:function(){var e=this;this.blurTimer=setTimeout((function(){e.hidden=!0}),1e3)}},{key:"handleFocusFrame",value:function(e){this.$store.commit("switchFocusFrame",{frame:e})}},{key:"handleOpenMenu",value:function(e,t){var n={x:e.clientX,y:e.clientY};this.$store.commit("moveMenu",{pos:n}),this.$store.commit("changeMenuTarget",{target:t})}},{key:"toggleDisplayFrame",value:function(e){this.$store.commit("updateFrame",{frame:e,input:{display:!e.display}})}},{key:"handleUpload",value:function(e){for(var t=this,n=e.target.files,i=0,r=function(r){var a=new FileReader;a.onload=function(a){t.$store.commit("addFrame",{input:{name:n[r].name,url:a.target.result,position:new T({x:20*t.frames.length+20,y:20*t.frames.length+20})}}),i++,i===n.length&&(e.target.value="")},a.readAsDataURL(n[r])},a=0;a<n.length;a++)r(a)}},{key:"listHeight",get:function(){return(this.itemHeight+2*this.itemMargin)*this.itemShowLimit}},{key:"frames",get:function(){return this.$store.state.frames.slice().reverse()}},{key:"focusFrame",get:function(){return this.$store.state.focusFrame}},{key:"mousePos",get:function(){return this.$store.state.mouseWrapper.position}},{key:"isDraggingModal",get:function(){return this.$store.state.mouseWrapper.event===o.DragFrameControlPanel},set:function(e){var t=e?o.DragFrameControlPanel:o.None;this.$store.commit("setMouseWrapper",{event:t})}}]),t}(b["d"]));v["a"]([Object(b["c"])()],Z.prototype,"frameListRef",void 0),v["a"]([Object(b["e"])("mousePos")],Z.prototype,"handleDraggingModal",null),Z=v["a"]([b["a"]],Z);var ee=Z,te=ee,ne=(n("9f43"),Object(H["a"])(te,Q,V,!1,null,"203a75e1",null)),ie=ne.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"wrapper",staticClass:"wrapper",on:{click:function(t){return t.stopPropagation(),e.handleCloseMenu(t)}}},[n("div",{staticClass:"menu-list",style:{width:e.width+"px",transform:"translate("+e.nicelyPos.x+"px, "+e.nicelyPos.y+"px)"}},e._l(e.items,(function(t){return n("div",{key:t.key,staticClass:"menu-item",style:{height:e.itemHeight+"px"},on:{click:function(n){return n.stopPropagation(),e.handleExecuteMenu(t.key)}}},[void 0!==t.icon?n("img",{style:{height:.7*e.itemHeight+"px"},attrs:{src:t.icon,alt:t.name}}):n("p",[e._v(" "+e._s(t.name)+" ")])])})),0)])},ae=[];function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(n,!0).forEach((function(t){Object(C["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ce=function(e){function t(){var e;return Object(m["a"])(this,t),e=Object(d["a"])(this,Object(g["a"])(t).apply(this,arguments)),e.wrapper=null,e.width=150,e.itemHeight=34,e}return Object(y["a"])(t,e),Object(p["a"])(t,[{key:"handleCloseMenu",value:function(){this.$store.commit("changeMenuTarget",{target:null})}},{key:"handleExecuteMenu",value:function(e){this.$emit("click-item",e)}},{key:"mounted",value:function(){this.wrapper=this.$refs.wrapper}},{key:"nicelyPos",get:function(){var e=se({},this.pos);if(this.wrapper){e.x+this.width>this.wrapper.clientWidth&&(e.x-=this.width);var t=this.itemHeight*this.items.length;e.y+t>this.wrapper.clientHeight&&(e.y-=t)}return e}}]),t}(b["d"]);v["a"]([Object(b["b"])()],ce.prototype,"items",void 0),v["a"]([Object(b["b"])()],ce.prototype,"pos",void 0),ce=v["a"]([b["a"]],ce);var ue=ce,le=ue,he=(n("08c4"),Object(H["a"])(le,re,ae,!1,null,"8589d4f8",null)),fe=he.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],staticClass:"mouse-wrapper",class:{dragging:e.active},on:{mousemove:e.handleMouseMove,mouseup:e.handleMouseUp}})},pe=[],de=function(e){function t(){return Object(m["a"])(this,t),Object(d["a"])(this,Object(g["a"])(t).apply(this,arguments))}return Object(y["a"])(t,e),Object(p["a"])(t,[{key:"handleMouseMove",value:function(e){this.pos=new T({x:e.clientX,y:e.clientY})}},{key:"handleMouseUp",value:function(){this.$store.commit("resetMouseWrapper")}},{key:"active",get:function(){return this.$store.state.mouseWrapper.event!==o.None},set:function(e){e||this.$store.commit("setMouseWrapper",{event:o.None})}},{key:"trackCorner",get:function(){return this.$store.state.mouseWrapper.trackCorner}},{key:"pos",get:function(){return this.$store.state.mouseWrapper.pos},set:function(e){this.$store.commit("setMouseWrapper",{pos:e})}}]),t}(b["d"]);de=v["a"]([b["a"]],de);var ge=de,ye=ge,ve=(n("b298"),Object(H["a"])(ye,me,pe,!1,null,"336d1ea9",null)),be=ve.exports,ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"key-navigator"},e._l(e.keyCodes,(function(t){return n("div",{key:t.key,staticClass:"key-item"},[e._v(" "+e._s(t.key)+" ")])})),0)},we=[],xe=function(e){function t(){return Object(m["a"])(this,t),Object(d["a"])(this,Object(g["a"])(t).apply(this,arguments))}return Object(y["a"])(t,e),Object(p["a"])(t,[{key:"actives",get:function(){return this.$store.state.keyboardWrapper.actives}},{key:"keyCodes",get:function(){return this.actives.map((function(e){return{key:r[e],code:e}})).filter((function(e){return Object.keys(r).includes(e.key)}))}}]),t}(b["d"]);xe=v["a"]([b["a"]],xe);var Oe=xe,je=Oe,Fe=(n("c32b"),Object(H["a"])(je,ke,we,!1,null,"0750b634",null)),Me=Fe.exports,Ce=function(e){function t(){return Object(m["a"])(this,t),Object(d["a"])(this,Object(g["a"])(t).apply(this,arguments))}return Object(y["a"])(t,e),Object(p["a"])(t,[{key:"handleMenuItem",value:function(e){this.$store.dispatch("executeMenu",{key:e})}},{key:"mounted",value:function(){this.$store.dispatch("initMenuIcons")}},{key:"menuTarget",get:function(){return this.$store.state.menu.target}},{key:"menuActive",get:function(){return null!==this.menuTarget}},{key:"menuItems",get:function(){return this.$store.state.menu.items}},{key:"menuPos",get:function(){return this.$store.state.menu.pos}}]),t}(b["d"]);Ce=v["a"]([Object(b["a"])({components:{Playground:G,FrameControl:ie,MenuList:fe,MouseWrapper:be,KeyNavigator:Me}})],Ce);var $e=Ce,Re=$e,Pe=(n("c8ff"),Object(H["a"])(Re,w,x,!1,null,"6e1504da",null)),Te=Pe.exports;l["a"].use(k["a"]);var De=[{path:"/",name:"home",component:Te},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],ze=new k["a"]({mode:"history",base:"/interactive-photo-frames/",routes:De}),Le=ze,Be=function(e){function t(){return Object(m["a"])(this,t),Object(d["a"])(this,Object(g["a"])(t).apply(this,arguments))}return Object(y["a"])(t,e),Object(p["a"])(t,[{key:"created",value:function(){var e=this;window.addEventListener("keydown",(function(t){Object.keys(r).includes("".concat(t.keyCode))&&t.preventDefault(),e.$store.commit("activateKey",{code:t.keyCode})})),window.addEventListener("keyup",(function(t){t.preventDefault(),e.$store.commit("deactivateKey",{code:t.keyCode})})),window.addEventListener("blur",(function(){e.$store.commit("resetKey")}))}},{key:"routes",get:function(){return De.map((function(e){return{path:e.path,name:e.name}}))}}]),t}(b["d"]);Be=v["a"]([b["a"]],Be);var Se=Be,We=Se,_e=(n("5c0b"),Object(H["a"])(We,h,f,!1,null,null,null)),Ee=_e.exports,Ae=(n("c740"),n("a434"),n("96cf"),n("2f62")),Ie=function(){function e(){Object(m["a"])(this,e),this.reset()}return Object(p["a"])(e,[{key:"reset",value:function(){this.event=o.None,this.pos=new T({x:0,y:0}),this.basis=new T({x:0,y:0}),this.trackCorner=s.LeftTop}},{key:"update",value:function(e){Object.assign(this,e)}},{key:"position",get:function(){return new T({x:(this.pos.x-this.basis.x)*S[this.trackCorner].x,y:(this.pos.y-this.basis.y)*S[this.trackCorner].y})}},{key:"diagonals",get:function(){switch(this.trackCorner){case s.LeftTop:case s.Left:case s.Top:return[this.basis.clone(),this.pos.clone()];case s.RightBottom:case s.Right:case s.Bottom:return[this.pos.clone(),this.basis.clone()];case s.LeftBottom:return[new T({x:this.basis.x,y:this.pos.y}),new T({x:this.pos.x,y:this.basis.y})];case s.RightTop:return[new T({x:this.pos.x,y:this.basis.y}),new T({x:this.basis.x,y:this.pos.y})];default:return[this.basis.clone(),this.pos.clone()]}}}]),e}(),Ne=function(){function e(){Object(m["a"])(this,e),this.reset()}return Object(p["a"])(e,[{key:"reset",value:function(){this.actives=[]}},{key:"activate",value:function(e){this.actives.includes(e)||this.actives.push(e)}},{key:"deactivate",value:function(e){var t=this.actives.findIndex((function(t){return t===e}));-1!==t&&this.actives.splice(t,1)}},{key:"Ctrl",get:function(){return this.actives.includes(r.Ctrl)}},{key:"Alt",get:function(){return this.actives.includes(r.Alt)}},{key:"Shift",get:function(){return this.actives.includes(r.Shift)}},{key:"Enter",get:function(){return this.actives.includes(r.Enter)}},{key:"Esc",get:function(){return this.actives.includes(r.Esc)}}]),e}();l["a"].use(Ae["a"]);var He=new Ae["a"].Store({state:{frames:[],focusFrame:null,menu:{target:null,items:W,pos:{x:0,y:0}},mouseWrapper:new Ie,keyboardWrapper:new Ne},mutations:{addFrame:function(e,t){var n=t.input;e.frames.push(new _(n))},updateFrame:function(e,t){var n=t.frame,i=t.input;n.update(i)},deleteFrame:function(e,t){var n=t.frame,i=e.frames.findIndex((function(e){return e===n}));-1!==i&&e.frames.splice(i,1)},moveFrame:function(e,t){var n=t.frame,i=t.pos;n.move(i)},resizeFrame:function(e,t){var n=t.frame,i=t.val;n.diagonals=i},swapFrames:function(e,t){var n=t.posA,i=t.posB;if(!(n<0||n>=e.frames.length)&&!(i<0||i>=e.frames.length)){var r=e.frames.slice(),a=r[n];r[n]=r[i],r[i]=a,e.frames=r}},bringFrameTop:function(e,t){var n=t.frame,i=e.frames.findIndex((function(e){return e===n}));e.frames.splice(i,1),e.frames.splice(e.frames.length,0,n)},bringFrameBottom:function(e,t){var n=t.frame,i=e.frames.findIndex((function(e){return e===n}));e.frames.splice(i,1),e.frames.unshift(n)},switchFocusFrame:function(e,t){var n=t.frame;e.focusFrame=n},moveMenu:function(e,t){var n=t.pos;e.menu.pos=n},changeMenuTarget:function(e,t){var n=t.target;e.menu.target=n},setMenuIcon:function(e,t){var n=t.item,i=t.url,r=e.menu.items.findIndex((function(e){return e===n}));-1!==r&&(e.menu.items[r].icon=i)},setMouseWrapper:function(e,t){e.mouseWrapper.update(t)},resetMouseWrapper:function(e){e.mouseWrapper.reset()},activateKey:function(e,t){var n=t.code;e.keyboardWrapper.activate(n)},deactivateKey:function(e,t){var n=t.code;e.keyboardWrapper.deactivate(n)},resetKey:function(e){e.keyboardWrapper.reset()}},actions:{initMenuIcons:function(e){var t,n,i,r,a;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:t=e.state,n=e.commit,i=t.menu.items,r=function(e){var t,r;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:if(!i[e].icon){a.next=7;break}return a.next=3,regeneratorRuntime.awrap(fetch("".concat(i[e].icon)).then((function(e){return e.blob()})));case 3:t=a.sent,r=new FileReader,r.onload=function(t){n("setMenuIcon",{item:i[e],url:t.target.result})},r.readAsDataURL(t);case 7:case"end":return a.stop()}}))},a=0;case 4:if(!(a<i.length)){o.next=10;break}return o.next=7,regeneratorRuntime.awrap(r(a));case 7:a++,o.next=4;break;case 10:case"end":return o.stop()}}))},executeMenu:function(e,t){var n,i,r=e.state,o=e.commit,s=t.key;switch(s){case a.Delete:o("deleteFrame",{frame:r.menu.target});break;case a.Top:o("bringFrameTop",{frame:r.menu.target});break;case a.Bottom:o("bringFrameBottom",{frame:r.menu.target});break;case a.Forward:n=r.frames.findIndex((function(e){return e===r.menu.target})),i=n+1,o("swapFrames",{posA:n,posB:i});break;case a.Backward:n=r.frames.findIndex((function(e){return e===r.menu.target})),i=n-1,o("swapFrames",{posA:n,posB:i});break;default:break}o("changeMenuTarget",{target:null})}},modules:{}});l["a"].config.productionTip=!1,new l["a"]({router:Le,store:He,render:function(e){return e(Ee)}}).$mount("#app")}});
//# sourceMappingURL=app.9c5ba1c2.js.map